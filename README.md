<div align="center"> 
<h1 align="center">
ğŸ””WeiboTaskâ°
</h1>

[![](https://img.shields.io/badge/author-%E6%98%9F%E8%BE%B0-red "ä½œè€…")](https://github.com/happy888888/ )
![](https://img.shields.io/github/downloads/happy888888/WeiboTask/total?style=flat-square "ä¸‹è½½é‡")
<br>
![](https://img.shields.io/docker/pulls/happy888888/weibotask?color=purple "dockeræ‹‰å–æ•°")
![](https://img.shields.io/docker/image-size/happy888888/weibotask "dockeré•œåƒå¤§å°")

</div>

### ğŸ’¥ä¸»è¦åŠŸèƒ½
* [x] ğŸ’°å¾®åšè¶…è¯ç­¾åˆ°(pc web)â­
* [x] ğŸ’¯è¶…è¯ç§¯åˆ†è·å–(è¶…è¯app)ğŸŒ€
* [x] ğŸš…è¶…è¯è¯„è®ºå¸–å­å¹¶åˆ é™¤è¯„è®º(è¶…è¯app)âš½
* [x] â›„è¶…è¯è½¬å‘å¸–å­å¹¶åˆ é™¤è½¬å‘(è¶…è¯app)âš¾

<img src="https://user-images.githubusercontent.com/67217225/102878310-0037e600-4483-11eb-85a8-ee0ab4b496c1.png" width="500" height="600" title="ä»»åŠ¡åˆ—è¡¨" style="display:block;" />

* [x] â“‚ç­¾åˆ°(å¾®åšapp)â˜€
* [x] â˜è¯„è®ºå¸–å­å¹¶åˆ é™¤(å¾®åšapp,éœ€è¦Så‚æ•°)â˜
* [x] â˜•ç‚¹èµå¸–å­å¹¶åˆ é™¤(å¾®åšapp,éœ€è¦Så‚æ•°)â˜”
* [x] â™ è½¬å‘å¸–å­å¹¶åˆ é™¤(å¾®åšapp,éœ€è¦Så‚æ•°)â™£
* [x] â™¦å…³æ³¨ç”¨æˆ·å¹¶å–å…³(å¾®åšapp,éœ€è¦Så‚æ•°)â™¨
* [x] â­åˆ·å…³æ³¨å¾®åš(å¾®åšapp,éœ€è¦Så‚æ•°)â­•

<img src="https://user-images.githubusercontent.com/67217225/103014306-8898b280-4579-11eb-8935-04602a8a7e9d.png" width="500" height="900" title="ä»»åŠ¡åˆ—è¡¨" style="display:block;" />

ğŸ”ŠğŸ“’ğŸ““ğŸ“”ğŸ“•ğŸ“—ğŸ“˜ğŸ“™ğŸ“šğŸ“–

</br>

### ğŸš€ä½¿ç”¨æ–¹å¼

æœ¬é¡¹ç›®***ä¸ä¼šä½¿ç”¨ä»»ä½•è´¦å·å¯†ç ***âŒï¼Œä»…éœ€è¦[æ–°æµªç½‘ğŸ‘¼](https://www.sina.com.cn/) çš„ä¸€ä¸ªåä¸º`ALC`âœŒçš„cookie(è·å–æ–¹å¼è§ä¸‹é¢è¯´æ˜)å¹¶å­˜æ”¾åˆ°config.jsonæ–‡ä»¶ä¸­(å¾®åšappä»»åŠ¡éœ€è¦Så‚æ•°,åªèƒ½é æ‰‹æœºæŠ“åŒ…å¾—åˆ°) <br>
config.jsonæ–‡ä»¶ä¼šç¼“å­˜æ‚¨çš„cookieä»¥***ä¿å­˜***å’Œåˆ·æ–°æ‚¨çš„***ç™»å½•çŠ¶æ€***ï¼Œä½¿ç™»å½•çŠ¶æ€ä¸€ç›´æœ‰æ•ˆè€Œ***ä¸å¿…é‡å¤ç™»å½•***ï¼Œä»è€Œæ–¹ä¾¿æ”¾åœ¨è·¯ç”±å™¨(opwnwrt,padavan...)ï¼Œnas(ç¾¤è¾‰,å¨è”é€š...)ï¼Œç”µè§†ç›’å­(armbianç­‰linuxç³»ç»Ÿ)ç­‰è®¾å¤‡ä¸ŠæŒç»­è¿è¡Œ <br>

#### â°ä¸€ã€Windowsæœ¬åœ°è¿è¡Œ

* 1.1 è·å–cookieğŸ†—
        ç”µè„‘æµè§ˆå™¨ç™»å½•[æ–°æµªç½‘ğŸ‘¼](https://www.sina.com.cn/) <br>
        è¿›å…¥[æŸ404 NOT FOUNDç½‘é¡µğŸ’€](https://login.sina.com.cn/sso/test) <br>
		é€šè¿‡ä¸‹å›¾æ‰€ç¤ºè·å–ä¸€ä¸ªåä¸º`ALC`çš„cookieçš„å€¼å¹¶ä¿å­˜ <br>
		`åœ¨ä¸Šè¿°ç½‘å€æŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·--ã€‹application--ã€‹cookies` <br>
		![è·å–cookie ALC](https://user-images.githubusercontent.com/67217225/102229329-9f5e5a00-3f26-11eb-929d-174539c489c3.png)

* 1.2 ä¸‹è½½æœ¬é¡¹ç›®â›³
        è¿›å…¥æœ¬é¡¹ç›®[Release](https://github.com/happy888888/WeiboTask/releases) ï¼Œä¸‹è½½windowsç‰ˆæœ¬å‹ç¼©åŒ…  <br>
		è§£å‹åè·å¾—`WeiboTask.exe`, `config.json`ä¸¤ä¸ªæ–‡ä»¶(è¿™ä¸¤ä¸ªæ–‡ä»¶æ”¾åœ¨åŒä¸€æ–‡ä»¶å¤¹) <br>
		
* 1.3 å¯åŠ¨âš¡
        è¿›å…¥æœ¬é¡¹ç›®[Release](https://github.com/happy888888/WeiboTask/releases) ï¼Œä¸‹è½½windowsç‰ˆæœ¬å‹ç¼©åŒ…  <br>
		ç”¨è®°äº‹æœ¬æ‰“å¼€`config.json`æ–‡ä»¶ï¼ŒæŠŠ***æ­¥éª¤1.1***ä¸­è·å¾—çš„cookieå€¼å¡«å†™åˆ°`"name": "ALC"`ä¸‹é¢çš„`"value": ""`å­—æ®µ <br>
		![image](https://user-images.githubusercontent.com/67217225/103126469-6f068080-46c9-11eb-890e-a6f4cb6088bb.png) <br>
		ä¿å­˜æ–‡ä»¶åç›´æ¥åŒå‡»`WeiboTask.exe`æ–‡ä»¶å¯åŠ¨ğŸ’

#### ğŸš©âœ…äºŒã€openwrtç­‰è·¯ç”±å™¨è¿è¡Œï¼ˆæ¨èï¼‰

* 2.1 è·å–cookieğŸ†—
        åŒä¸Šé¢***æ­¥éª¤1.1â˜***

* 2.2 å®‰è£…â›³
        ä½¿ç”¨`xshell`ç­‰å·¥å…·ç™»å½•è·¯ç”±å™¨ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å®‰è£…  <br>
		```wget -O /tmp/WeiboTask.ipk "https://github.com/happy888888/WeiboTask/releases/download/1.0.1/WeiboTask_1.0.1_`uname -m`.ipk" && opkg install /tmp/WeiboTask.ipk``` <br>
		åœ¨å®‰è£…æ—¶ä¼šæç¤ºå¡«å…¥***æ­¥éª¤2.1***è·å–çš„cookie(ALC)ï¼Œç„¶åç¨‹åºä¼šè‡ªåŠ¨è¿è¡Œï¼Œé»˜è®¤åœ¨æ¯å¤©â°`00:00`â°è‡ªåŠ¨ç­¾åˆ°

* 2.3 å…¶ä»–â›…
        å¯åŠ¨ç¨‹åºçš„å‘½ä»¤ä¸º`/etc/init.d/wbt start`
        å…³é—­ç¨‹åºçš„å‘½ä»¤ä¸º`/etc/init.d/wbt stop`
		é‡å¯ç¨‹åºçš„å‘½ä»¤ä¸º`/etc/init.d/wbt restart`
		å®‰è£…å®Œæˆå¦‚æœè¾“å…¥äº†cookie(ALC)ç¨‹åºä¼šè‡ªåŠ¨å¯åŠ¨ä¸éœ€è¦ä½¿ç”¨å‘½ä»¤å†å¯åŠ¨ä¸€æ¬¡
		é…ç½®æ–‡ä»¶å­˜æ”¾åœ¨`/etc/WeiboTask/config.json`æ–‡ä»¶ä¸­ï¼ŒåŒ…æ‹¬ä¿å­˜çš„cookieå’Œserveré…±æ¨é€çš„SCKEYä»¥åŠæ¯å¤©çš„ç­¾åˆ°æ—¶é—´
		å¸è½½ç¨‹åºç›´æ¥è¿è¡Œå‘½ä»¤`opkg remove WeiboTask`ğŸ’”

#### ğŸš¢ä¸‰ã€dockerè¿è¡Œ

[docker hubåœ°å€](https://registry.hub.docker.com/repository/docker/happy888888/weibotask) 

|  å¹³å°   | tagæ ‡ç­¾  |
|  ----  | ----  |
| windows/linux(x64)  | latest |
| linux(arm32)  | arm-latest |
| linux(arm64)  | arm64-latest |

* 3.1 è·å–cookieğŸ†—
        åŒä¸Šé¢***æ­¥éª¤1.1â˜***

* 3.2 å¡«å†™é…ç½®æ–‡ä»¶â›³
        ä¸‹è½½config.jsonæ–‡ä»¶å¹¶å¡«å†™ALC(cookie)é‚£ä¸€é¡¹ï¼Œå­˜æ”¾åˆ°`/etc/WeiboTask/config.json`(å…¶ä»–ç›®å½•ä¹Ÿè¡Œ)
		
* 3.3 å¯åŠ¨âš¡
        è¿è¡Œå‘½ä»¤`docker run -d -v /etc/WeiboTask:/etc/WeiboTask happy888888/weibotask:latest`

#### ğŸš§å››ã€github Actionsè¿è¡Œ

***å¼ºçƒˆä¸æ¨èâŒï¼Œå¼‚åœ°ipç™»å½•ä¼šå¼‚å¸¸ğŸš«***

* 4.1 è·å–cookieğŸ†—
        åŒä¸Šé¢***æ­¥éª¤1.1â˜***

* 4.2 é…ç½®secretsâ›³
        æœ¬é¡¹ç›®ä»…éœ€è¦é…ç½®åä¸º`ALC`(å¿…é¡»ï¼Œå€¼ä¸ºä¸Šé¢è·å–çš„cookie)å’Œ`SCKEY`(éå¿…é¡»ï¼Œç”¨äºæ¶ˆæ¯æ¨é€)  <br>
		![image](https://user-images.githubusercontent.com/67217225/102372598-511a8b00-3ffa-11eb-81c2-216463f60a9a.png)
		
* 4.3 å¯åŠ¨âš¡
        ![image](https://user-images.githubusercontent.com/67217225/102372899-a0f95200-3ffa-11eb-920b-4eec5d328037.png)